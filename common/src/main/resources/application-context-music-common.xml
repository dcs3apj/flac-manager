<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:util="http://www.springframework.org/schema/util"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"
	default-autowire="byName">

	<context:annotation-config/>
	
	<bean id="devicesDirectory" class="java.io.File">
		<constructor-arg value="/mnt/multimedia/devices"/>
	</bean> 
	
	<bean id="mp3Encoding" class="uk.co.unclealex.music.Encoding">
		<property name="extension" value="mp3"/>
	</bean>
	
	<bean id="oggEncoding" class="uk.co.unclealex.music.Encoding">
		<property name="extension" value="ogg"/>
	</bean>

	<util:set id="encodings" set-class="java.util.TreeSet" value-type="uk.co.unclealex.music.Encoding">
		<ref bean="mp3Encoding"/>
		<ref bean="oggEncoding"/>
	</util:set>
	
	<util:set id="allDevices" set-class="java.util.TreeSet" value-type="uk.co.unclealex.music.Device">
		<bean class="uk.co.unclealex.music.IpodDevice">
			<property name="name" value="ipod"/>
			<property name="encoding" ref="mp3Encoding"/>
			<property name="owner" value="alex"/>
			<!-- <property name="mountPoint" value="/home/alex/ipod"/> -->
			<property name="mountPoint" value="/media/IPOD"/>
		</bean>
		<bean class="uk.co.unclealex.music.MtpDevice">
			<property name="name" value="creative zen"/>
			<property name="encoding" ref="mp3Encoding"/>
			<property name="owner" value="alex"/>
		</bean>
		<bean class="uk.co.unclealex.music.FileSystemDevice">
			<property name="name" value="iriver"/>
			<property name="encoding" ref="oggEncoding"/>
			<property name="owner" value="trevor"/>
			<property name="mountPoint" value="/media/disk"/>
		</bean>
	</util:set>

	<bean id="processService" class="uk.co.unclealex.music.ProcessServiceImpl"/>
	
	<bean id="flacDirectory" class="java.io.File">
		<constructor-arg value="/mnt/multimedia/flac"/>
	</bean>
	
	<bean id="latinService" class="uk.co.unclealex.music.LatinServiceImpl"/>
	
	<bean id="deviceService" class="uk.co.unclealex.music.DeviceServiceImpl"/>
	<bean id="fileService" class="uk.co.unclealex.music.FileServiceImpl"/>
</beans>
