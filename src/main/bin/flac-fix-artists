#!/bin/sh
#
# Get the canonical path of a file or directory.
# When the file or directory itself is a link then this is also resolved.
#
# 1: the file or directory
#
PRG="$0"

while [ -h "$PRG" ]; do
  ls=`ls -ld "$PRG"`
  link=`expr "$ls" : '.*-> \(.*\)$'`
  if expr "$link" : '/.*' > /dev/null; then
    PRG="$link"
  else
    PRG=`dirname "$PRG"`/"$link"
  fi
done

# Get standard environment variables
BASEDIR=`dirname "$PRG"`
PROGNAME=`basename "$0"`

CLASSPATH="$BASEDIR"/../classes
for JAR in "$BASEDIR"/../lib/*.jar
do
  CLASSPATH="$CLASSPATH":"$JAR"
done
java -Djava.util.logging.config.file=$BASEDIR/../conf/logging.properties -cp $CLASSPATH uk.co.unclealex.music.command.FixArtistsCommand "$PROGNAME" "$@"
